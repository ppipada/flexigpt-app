################################################################################
# Common product meta
################################################################################
COMMON_BUILD_NAME='FlexiGPT'
COMMON_PRODUCT_NAME='FlexiGPT'
COMMON_PRODUCT_GENERIC_NAME='AI Chat Bot'
COMMON_PRODUCT_DESCRIPTION='FlexiGPT - An AI application platform'
COMMON_DEVELOPER_NAME='Pankaj Pipada'
COMMON_PROJECT_LICENSE='Mozilla Public License Version 2.0'
COMMON_PRODUCT_GITPATH='github.com/flexigpt/flexigpt-app'

################################################################################
# License vars
################################################################################
LICENSE_TEMPLATE_PATH='./build/licenses/licenses.tpl'
LICENSE_OUTPUT_DIR='./build/licenses'
LICENSE_JS_FILENAME='./build/licenses/js-dependency-licenses.txt'
LICENSE_GO_FILENAME='./build/licenses/go-dependency-licenses.txt'

################################################################################
# Common generic vars
################################################################################
COMMON_APP_WORKING_DIRECTORY='.'
COMMON_APP_DEV_VERSION='v0.0.1'
COMMON_APP_DEV_ARTIFACT_DIR='out'
COMMON_PNPM_DEPS_INSTALL='pnpm install --frozen-lockfile'

################################################################################
# INSTALL Commands
# Install task, go, golangci-lint, cloc externally. E.g via asdf.
# The needed versions are pinned in .tool-versions file.
# Tool version bumps should also happen in associated files:
#   - go: build/flatpak/io.github.flexigpt.client.yml
#   - wails: build/flatpak/io.github.flexigpt.client.yml
#   - node: package.json, .github/workflows/flatpak.yml,
#			build/flatpak/io.github.flexigpt.client.yml, frontend/package.json (types)
# Prerequisite for godepgraph: graphviz, dot.
# macOS: brew install graphviz; Debian/Ubuntu: sudo apt-get update && sudo apt-get install -y graphviz
################################################################################
INSTALL_TOOL_WAILS='go install github.com/wailsapp/wails/v2/cmd/wails@v2.11.0'
INSTALL_TOOL_GO_LICENSES='go install github.com/google/go-licenses/v2@v2.0.1'
INSTALL_TOOL_GOPLS='go install golang.org/x/tools/gopls@v0.21.0'
INSTALL_TOOL_GO_MOD_UPGRADE='go install github.com/oligot/go-mod-upgrade@v0.12.0'
INSTALL_TOOL_REFDIR='go install github.com/ppipada/refdir@v0.7.0'
INSTALL_TOOL_GO_TEST_COVERAGE='go install github.com/vladopajic/go-test-coverage/v2@v2.18.0'
INSTALL_TOOL_GODEPGRAPH='go install github.com/kisielk/godepgraph@v1.0.0'

GO_BACKEND_DIR='./cmd/agentgo'
GO_MAIN_ENTRYPOINT='./cmd/agentgo/main.go'

################################################################################
# MacOS
################################################################################
MACOS_BUNDLE_ID='io.github.flexigpt.client'
MACOS_APP_BUNDLE_PATH='./build/bin/FlexiGPT.app'
MACOS_PKG_BUNDLE_PATH='./build/bin/FlexiGPT.pkg'
MACOS_BUILD_COMMAND='pnpm run build:mac'

MACOS_ENTITLEMENTS_PATH='./build/darwin/entitlements.plist'
MACOS_INFO_PLIST_PATH='./build/darwin/Info.plist'
MACOS_GON_SIGN_JSON_PATH='./build/darwin/gon-sign.json'
MACOS_GON_NOTARIZE_JSON_PATH='./build/darwin/gon-notarize.json'

MACOS_ENTITLEMENTS_TEMPLATE_PATH='./build/darwin/entitlements.plist.tmpl'
MACOS_INFO_PLIST_TEMPLATE_PATH='./build/darwin/Info.plist.tmpl'
MACOS_GON_SIGN_JSON_TEMPLATE_PATH='./build/darwin/gon-sign.json.tmpl'
MACOS_GON_NOTARIZE_JSON_TEMPLATE_PATH='./build/darwin/gon-notarize.json.tmpl'

################################################################################
# Windows
################################################################################
WIN_BUILD_COMMAND='pnpm run build:win'
WIN_INSTALLER_PATH='./build/bin/FlexiGPT-amd64-installer.exe'

################################################################################
# Linux / Flatpak
################################################################################
LINUX_BUILD_COMMAND='pnpm run build:linux'

FLATPAK_ID='io.github.flexigpt.client'
FLATPAK_MANIFEST_PATH="./build/flatpak/io.github.flexigpt.client.yml"

# Template locations
FLATPAK_APPDATA_TEMPLATE_PATH="./build/flatpak/io.github.flexigpt.client.appdata.xml.tmpl"
FLATPAK_DESKTOP_TEMPLATE_PATH="./build/flatpak/io.github.flexigpt.client.desktop.tmpl"

# Rendered output locations
FLATPAK_APPDATA_PATH="./build/flatpak/io.github.flexigpt.client.appdata.xml"
FLATPAK_DESKTOP_PATH="./build/flatpak/io.github.flexigpt.client.desktop"
